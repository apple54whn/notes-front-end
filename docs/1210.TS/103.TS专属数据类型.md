---
title: TSæ•°æ®ç±»å‹
date: 2022-03-25 00:16:08
permalink: /pages/1322e7/
categories:
  - TS
tags:
  - 
---

# TS ä¸“å±æ•°æ®ç±»å‹

## 01_anyç±»å‹çš„ä½¿ç”¨

```ts
// å½“è¿›è¡Œä¸€äº›ç±»å‹æ–­è¨€ as any
// åœ¨ä¸æƒ³ç»™æŸäº›JavaScriptæ·»åŠ å…·ä½“çš„æ•°æ®ç±»å‹æ—¶(åŸç”Ÿçš„JavaScriptä»£ç æ˜¯ä¸€æ ·)
let message: any = "Hello World"

message = 123
message = true
message = {

}

// message()
// message.split(" ")

console.log(message)
const arr: any[] = []
```





## 02_unknownç±»å‹çš„ä½¿ç”¨

```ts
function foo() {
  return "abc"
}

function bar() {
  return 123
}

// unknownç±»å‹åªèƒ½èµ‹å€¼ç»™anyå’Œunknownç±»å‹
// anyç±»å‹å¯ä»¥èµ‹å€¼ç»™ä»»æ„ç±»å‹

let flag = true
let result: unknown // æœ€å¥½ä¸è¦ä½¿ç”¨any
if (flag) {
  result = foo()
} else {
  result = bar()
}

let message: string = result
let num: number = result

console.log(result)

export {}
```



## 03_voidç±»å‹çš„ä½¿ç”¨

```ts
function sum(num1: number, num2: number) {
  console.log(num1 + num2)
}

sum(20, 30)
// sum("abc", "cba")
```



## 04_neverç±»å‹çš„ä½¿ç”¨

```ts
// function foo(): never {
//   // æ­»å¾ªç¯
//   while(true) {

//   }
// }

// function bar(): never {
//   throw new Error()
// }

// æå‰
// å°è£…ä¸€ä¸ªæ ¸å¿ƒå‡½æ•°
function handleMessage(message: string | number | boolean) {
  switch (typeof message) {
    case 'string':
      console.log('stringå¤„ç†æ–¹å¼å¤„ç†message')
      break
    case 'number':
      console.log('numberå¤„ç†æ–¹å¼å¤„ç†message')
      break
    case 'boolean':
      console.log('booleanå¤„ç†æ–¹å¼å¤„ç†message')
      break
    default:
      const check: never = message // ä»…ä»…ä½œä¸ºç¼–è¯‘æ—¶é”™è¯¯æç¤º
  }
}

handleMessage('abc')
handleMessage(123)

// å¼ ä¸‰
handleMessage(true)
```





## 05_tupleâ€”å…ƒç»„ç±»å‹

å¯ä»¥å­˜æ”¾**ä¸åŒç±»å‹**çš„æ•°ç»„ï¼ˆç±»ä¼¼ï¼‰

### ä½¿ç”¨

```ts
// tupleå…ƒç»„: å¤šç§å…ƒç´ çš„ç»„åˆ
// "why" 18 1.88

// 1.æ•°ç»„çš„å¼Šç«¯
// const info: any[] = ["why", 18, 1.88]
// const infoObj = {
//   name: "why",
//   age: 18,
//   height: 1.88
// }

// const name = info[0]
// console.log(name.length)


// 2.å…ƒç»„çš„ç‰¹ç‚¹
const info: [string, number, number] = ["why", 18, 1.88]
const name = info[0]
console.log(name.length)
// const age = info[1]
// console.log(age.length)

export {}
```





### åº”ç”¨åœºæ™¯ ğŸ”¥

å¯ä»¥ç›´æ¥è‡ªå®šä¹‰åˆ«åï¼

```ts
// hook: useState
// const [counter, setCounter] = {counter: , setCounter:}

function useState(state: any) {
  let currentState = state
  const changeState = (newState: any) => {
    currentState = newState
  }

  const tuple: [any, (newState: any) => void] = [currentState, changeState]
  return tuple
}

const [counter, setCounter] = useState(10);
setCounter(1000)

const [title, setTitle] = useState("abc")

export {}
```



### åº”ç”¨åœºæ™¯(ä¼˜åŒ–) ğŸ”¥

```ts
// hook: useState
// const [counter, setCounter] = {counter: , setCounter:}

function useState<T>(state: T) {
  let currentState = state
  const changeState = (newState: T) => {
    currentState = newState
  }
  const info: [string, number] = ["abc", 18]
  const tuple: [T, (newState: T) => void] = [currentState, changeState]
  return tuple
}

const [counter, setCounter] = useState(10);
setCounter(1000)
const [title, setTitle] = useState("abc")
const [flag, setFlag] = useState(true)


// type MyFunction = () => void
// const foo: MyFunction = () => {}
```



