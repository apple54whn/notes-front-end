---
title: é‡ç‚¹
date: 2022-04-12 20:56:43
permalink: /pages/b5412c/
categories:
  - x
  - é¡¹ç›®
tags:
  - 
---





# é‡ç‚¹

## ref ç»„ä»¶ç±»å‹å®ä¾‹

```ts
import LoginAccount from './login-account.vue' // vueç»„ä»¶
const accountRef = ref<InstanceType<typeof LoginAccount>>()

const handleLoginClick = () => {
  accountRef.value?.loginAction()
}
```

* ç»„ä»¶â€”â€”ç±»
* ç»„ä»¶å®ä¾‹â€”â€”å¯¹è±¡





## Vuex è¦ç‚¹

* Vuex ä¸­ä¿å­˜çš„æ•°æ®åœ¨åˆ·æ–°åä¼šæ¶ˆå¤±ï¼æ‰€ä»¥åœ¨main.tsä¸­å†™ä»localstorageä¸­è·å–æ•°æ®å¹¶å†™å…¥Vuexï¼



## Vuex & TS ç»“åˆ

store/types.ts

```ts
import { ILoginState } from './login/types'

export interface IRootState {
  name: string
  age: number
}

export interface IRootWithModule {
  login: ILoginState
}

export type IStoreType = IRootState & IRootWithModule
```

store/index.ts

```ts
import { useStore as useVuexStore } from 'vuex'

export function useStore(): Store<IStoreType> {
  return useVuexStore()
}
```

ä½¿ç”¨

```ts
import { useStore } from '@/store'

const store = useStore()
const userMenus = computed(() => store.state.login.userMenus)
```





## template ä¸­åˆ«å

* `@`æ˜ å°„åˆ°`src`ï¼Œåœ¨templateä¸­éœ€è¦ä½¿ç”¨`~@`

  ```html
  <img class="img" src="~@/assets/img/logo.svg" alt="logo" />
  ```

  



## icon 

[el-icon æœ€æ–°ä½¿ç”¨æŒ‡å— SVG Icon](https://blog.csdn.net/Alloom/article/details/119415984)





## åŠ¨æ€è·¯ç”±

* å‰ç«¯è·¯ç”±ï¼ˆnoï¼‰

* å‰ç«¯é…ç½®urlæ˜ å°„componet

  å¯ä»¥åˆ©ç”¨coderwhy npmåŒ…è¿›è¡Œç”Ÿæˆ

* åç«¯è¿”å›url+componet





## å°è£…é…ç½®Form ğŸ”¥

* è¡¨å•
* æŸ¥è¯¢
* é‡ç½®

## å°è£…é…ç½®Table ğŸ”¥

* table
* åˆ†é¡µ
* å•é€‰ã€å¤šé€‰
* åºå·
* æŒ‰é’®æ’æ§½ã€å³ä¾§optionæ’æ§½ç­‰
* å…¶ä»–åŠ¨æ€æ’æ§½
* æ ‘è¡¨æ ¼





## å¯è§†åŒ– ğŸ”¥

å‰ç«¯è¿›è¡Œæ•°æ®å¯è§†åŒ–çš„å·¥å…·éå¸¸å¤šï¼Œå¸¸è§çš„æ¡†æ¶: 

* ECharts ã€g2ã€d3ã€visã€hightChartç­‰ç­‰; 
* g2æ¡†æ¶å°è£…:bizcharts(react) viser(vue); 
* åœ°ç†å¯è§†åŒ–: g2ã€L7ã€é«˜å¾·çš„ Locaã€ èœé¸Ÿçš„ é¸Ÿå›¾;
* 3Då¯è§†åŒ–:three.js;



### echarts å°è£…

```js
const chartRef = ref(); // é€šè¿‡è¯¥æ–¹å¼å¯ä»¥è·å–domå¯¹è±¡
```

æ³¨æ„è¦åœ¨ onMounted ä¸­ initï¼Œå¦åˆ™è¿˜æœªç»‘å®šæ¨¡æ¿ï¼Œè·å–ä¸åˆ° dom

Hooks å°è£…ï¼

useEchart.ts

```ts
import * as echarts from 'echarts'

import chinaMapData from '../data/china.json'

echarts.registerMap('china', chinaMapData)

export default function (el: HTMLElement) {
  const echartInstance = echarts.init(el)

  const setOptions = (options: echarts.EChartsOption) => {
    echartInstance.setOption(options)
  }

  const updateSize = () => {
    echartInstance.resize()
  }

  window.addEventListener('resize', () => {
    echartInstance.resize()
  })

  return {
    echartInstance,
    setOptions,
    updateSize
  }
}

```

base-echart.vue

```vue
<template>
  <div class="base-echart">
    <div ref="echartDivRef" :style="{ width: width, height: height }"></div>
  </div>
</template>

<script lang="ts" setup>
import { ref, onMounted, defineProps, withDefaults, watchEffect } from 'vue'
import { EChartsOption } from 'echarts'
import useEchart from '../hooks/useEchart'

// å®šä¹‰props
const props = withDefaults(
  defineProps<{
    options: EChartsOption
    width?: string
    height?: string
  }>(),
  {
    width: '100%',
    height: '360px'
  }
)

const echartDivRef = ref<HTMLElement>()

onMounted(() => {
  const { setOptions } = useEchart(echartDivRef.value!)

  watchEffect(() => {
    setOptions(props.options)
  })
})
</script>

<style scoped></style>

```









### SVG & Canvas

ä¸€èˆ¬æ¥è¯´ï¼ŒCanvas æ›´é€‚åˆç»˜åˆ¶å›¾å½¢å…ƒç´ æ•°é‡éå¸¸å¤§(è¿™ä¸€èˆ¬æ˜¯ç”±æ•°æ®é‡å¤§å¯¼è‡´)çš„å›¾è¡¨(å¦‚çƒ­åŠ›å›¾ã€åœ°ç†åæ ‡ ç³»æˆ–å¹³è¡Œåæ ‡ç³»ä¸Šçš„å¤§è§„æ¨¡çº¿å›¾æˆ–æ•£ç‚¹å›¾ç­‰)ï¼Œä¹Ÿåˆ©äºå®ç°æŸäº›è§†è§‰ç‰¹æ•ˆ;

ä½†æ˜¯ï¼Œåœ¨ä¸å°‘åœºæ™¯ä¸­ï¼ŒSVG å…·æœ‰é‡è¦çš„ä¼˜åŠ¿:å®ƒçš„å†…å­˜å ç”¨æ›´ä½(è¿™å¯¹ç§»åŠ¨ç«¯å°¤å…¶é‡è¦)ã€æ¸²æŸ“æ€§èƒ½ç•¥é«˜ã€å¹¶ ä¸”ç”¨æˆ·ä½¿ç”¨æµè§ˆå™¨å†…ç½®çš„ç¼©æ”¾åŠŸèƒ½æ—¶ä¸ä¼šæ¨¡ç³Š;

**é‚£ä¹ˆåˆ°åº•é€‰æ‹©å“ªä¸€ä¸ªæ¸²æŸ“å™¨å‘¢?**

* åœ¨è½¯ç¡¬ä»¶ç¯å¢ƒè¾ƒå¥½ï¼Œæ•°æ®é‡ä¸å¤§çš„åœºæ™¯ä¸‹(ä¾‹å¦‚ PC ç«¯åšå•†åŠ¡æŠ¥è¡¨)ï¼Œä¸¤ç§æ¸²æŸ“å™¨éƒ½å¯ä»¥é€‚ç”¨ï¼Œå¹¶ä¸éœ€è¦å¤ªå¤šçº ç»“;

* åœ¨ç¯å¢ƒè¾ƒå·®ï¼Œå‡ºç°æ€§èƒ½é—®é¢˜éœ€è¦ä¼˜åŒ–çš„åœºæ™¯ä¸‹ï¼Œå¯ä»¥é€šè¿‡è¯•éªŒæ¥ç¡®å®šä½¿ç”¨å“ªç§æ¸²æŸ“å™¨;
  * æ¯”å¦‚åœ¨é¡»è¦åˆ›å»ºå¾ˆå¤š ECharts å®ä¾‹ä¸”æµè§ˆå™¨æ˜“å´©æºƒçš„æƒ…å†µä¸‹(å¯èƒ½æ˜¯å› ä¸º Canvas æ•°é‡å¤šå¯¼è‡´å†…å­˜å ç”¨è¶…å‡ºæ‰‹æœºæ‰¿å—èƒ½åŠ›)ï¼Œå¯ä»¥ä½¿ç”¨ SVG æ¸²æŸ“å™¨æ¥è¿›è¡Œæ”¹å–„; 
  * å¤§ç•¥å¾—è¯´ï¼Œå¦‚æœå›¾è¡¨è¿è¡Œåœ¨ä½ç«¯å®‰å“æœºï¼Œæˆ–è€…æˆ‘ä»¬åœ¨ä½¿ç”¨ä¸€äº›ç‰¹å®šå›¾è¡¨å¦‚ æ°´çƒå›¾ç­‰ï¼ŒSVG æ¸²æŸ“å™¨å¯èƒ½æ•ˆæœæ›´å¥½; 
  * æ•°æ®é‡å¾ˆå¤§ã€è¾ƒå¤šäº¤äº’æ—¶ï¼Œå¯ä»¥é€‰ç”¨ Canvas æ¸²æŸ“å™¨





### åœ°å›¾
