---
title: æ­å»ºé¡¹ç›®
date: 2022-04-04 18:39:52
permalink: /pages/3c9e8f/
categories:
  - x
  - é¡¹ç›®
tags:
  -
---

# æ­å»ºé¡¹ç›®

## åˆ›å»ºé¡¹ç›®

```
vue create vue3-ts-cms

Vue CLI v4.5.15
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                          â”‚
â”‚   New version available 4.5.15 â†’ 5.0.4   â”‚
â”‚     Run npm i -g @vue/cli to update!     â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

? Please pick a preset: Manually select features
? Check the features needed for your project: Choose Vue version, Babel, TS, CSS Pre-processors, Linter


? Choose a version of Vue.js that you want to start the project with 3.x
? Use class-style component syntax? No
? Use Babel alongside TypeScript (required for modern mode, auto-detected polyfills, transpiling JSX)?
Yes
? Pick a CSS pre-processor (PostCSS, Autoprefixer and CSS Modules are supported by default): Less
? Pick a linter / formatter config: Prettier
? Pick additional lint features: Lint on save
? Where do you prefer placing config for Babel, ESLint, etc.? In dedicated config files
? Save this as a preset for future projects? (y/N) n
```

## ä»£ç è§„èŒƒ

### 1.1. é›†æˆ.editorconfig é…ç½®

EditorConfig æœ‰åŠ©äºä¸ºä¸åŒ IDE ç¼–è¾‘å™¨ä¸Šå¤„ç†åŒä¸€é¡¹ç›®çš„å¤šä¸ªå¼€å‘äººå‘˜ç»´æŠ¤ä¸€è‡´çš„ç¼–ç é£æ ¼ã€‚

```yaml
# http://editorconfig.org

root = true

[*] # è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶é€‚ç”¨
charset = utf-8 # è®¾ç½®æ–‡ä»¶å­—ç¬¦é›†ä¸º utf-8
indent_style = space # ç¼©è¿›é£æ ¼ï¼ˆtab | spaceï¼‰
indent_size = 2 # ç¼©è¿›å¤§å°
end_of_line = lf # æ§åˆ¶æ¢è¡Œç±»å‹(lf | cr | crlf)
trim_trailing_whitespace = true # å»é™¤è¡Œé¦–çš„ä»»æ„ç©ºç™½å­—ç¬¦
insert_final_newline = true # å§‹ç»ˆåœ¨æ–‡ä»¶æœ«å°¾æ’å…¥ä¸€ä¸ªæ–°è¡Œ

[*.md] # è¡¨ç¤ºä»… md æ–‡ä»¶é€‚ç”¨ä»¥ä¸‹è§„åˆ™
max_line_length = off
trim_trailing_whitespace = false
```

VSCode éœ€è¦å®‰è£…ä¸€ä¸ªæ’ä»¶ï¼šEditorConfig for VS Code

![image-20210722215138665](https://tva1.sinaimg.cn/large/008i3skNgy1gsq2gh989yj30pj05ggmb.jpg)

### 1.2. ä½¿ç”¨ prettier å·¥å…·

Prettier æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œæ”¯æŒ JavaScriptã€TypeScriptã€CSSã€SCSSã€Lessã€JSXã€Angularã€Vueã€GraphQLã€JSONã€Markdown ç­‰è¯­è¨€ï¼ŒåŸºæœ¬ä¸Šå‰ç«¯èƒ½ç”¨åˆ°çš„æ–‡ä»¶æ ¼å¼å®ƒéƒ½å¯ä»¥æå®šï¼Œæ˜¯å½“ä¸‹æœ€æµè¡Œçš„ä»£ç æ ¼å¼åŒ–å·¥å…·ã€‚

1.å®‰è£… prettier

```shell
npm install prettier -D
```

2.é…ç½®.prettierrc æ–‡ä»¶ï¼š

- useTabsï¼šä½¿ç”¨ tab ç¼©è¿›è¿˜æ˜¯ç©ºæ ¼ç¼©è¿›ï¼Œé€‰æ‹© falseï¼›
- tabWidthï¼štab æ˜¯ç©ºæ ¼çš„æƒ…å†µä¸‹ï¼Œæ˜¯å‡ ä¸ªç©ºæ ¼ï¼Œé€‰æ‹© 2 ä¸ªï¼›
- printWidthï¼šå½“è¡Œå­—ç¬¦çš„é•¿åº¦ï¼Œæ¨è 80ï¼Œä¹Ÿæœ‰äººå–œæ¬¢ 100 æˆ–è€… 120ï¼›
- singleQuoteï¼šä½¿ç”¨å•å¼•å·è¿˜æ˜¯åŒå¼•å·ï¼Œé€‰æ‹© trueï¼Œä½¿ç”¨å•å¼•å·ï¼›
- trailingCommaï¼šåœ¨å¤šè¡Œè¾“å…¥çš„å°¾é€—å·æ˜¯å¦æ·»åŠ ï¼Œå¯è®¾ç½®ä¸º `none`ã€`all`
- semiï¼šè¯­å¥æœ«å°¾æ˜¯å¦è¦åŠ åˆ†å·ï¼Œé»˜è®¤å€¼ trueï¼Œé€‰æ‹© false è¡¨ç¤ºä¸åŠ ï¼›

```json
{
  "useTabs": false,
  "tabWidth": 2,
  "printWidth": 80,
  "singleQuote": true,
  "trailingComma": "all",
  "semi": false
}
```

3.åˆ›å»º.prettierignore å¿½ç•¥æ–‡ä»¶

```
/dist/*
.local
.output.js
/node_modules/**

**/*.svg
**/*.sh

/public/*
```

4.VSCode éœ€è¦å®‰è£… prettier çš„æ’ä»¶

![image-20210722214543454](https://tva1.sinaimg.cn/large/008i3skNgy1gsq2acx21rj30ow057mxp.jpg)

5.æµ‹è¯• prettier æ˜¯å¦ç”Ÿæ•ˆ

- æµ‹è¯•ä¸€ï¼šåœ¨ä»£ç ä¸­ä¿å­˜ä»£ç ï¼›
- æµ‹è¯•äºŒï¼šé…ç½®ä¸€æ¬¡æ€§ä¿®æ”¹çš„å‘½ä»¤ï¼›

åœ¨ package.json ä¸­é…ç½®ä¸€ä¸ª scriptsï¼š

```json
"prettier": "prettier --write ."
```

### 1.3. ä½¿ç”¨ ESLint æ£€æµ‹

1.åœ¨å‰é¢åˆ›å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±é€‰æ‹©äº† ESLintï¼Œæ‰€ä»¥ Vue ä¼šé»˜è®¤å¸®åŠ©æˆ‘ä»¬é…ç½®éœ€è¦çš„ ESLint ç¯å¢ƒã€‚

2.VSCode éœ€è¦å®‰è£… ESLint æ’ä»¶ï¼š

![image-20210722215933360](https://tva1.sinaimg.cn/large/008i3skNgy1gsq2oq26odj30pw05faaq.jpg)

3.è§£å†³ eslint å’Œ prettier å†²çªçš„é—®é¢˜ï¼š

å®‰è£…æ’ä»¶ï¼šï¼ˆvue åœ¨åˆ›å»ºé¡¹ç›®æ—¶ï¼Œå¦‚æœé€‰æ‹© eslint-prettierï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ’ä»¶ä¼šè‡ªåŠ¨å®‰è£…ï¼‰

```shell
npm i eslint-plugin-prettier eslint-config-prettier -D
```

æ·»åŠ  prettier æ’ä»¶ï¼š

```json
  extends: [
    "plugin:vue/vue3-essential",
    "eslint:recommended",
    "@vue/typescript/recommended",
    "@vue/prettier",
    "@vue/prettier/@typescript-eslint",
    'plugin:prettier/recommended'
  ],
```

### 1.4. git Husky å’Œ eslint

è™½ç„¶æˆ‘ä»¬å·²ç»è¦æ±‚é¡¹ç›®ä½¿ç”¨ eslint äº†ï¼Œä½†æ˜¯ä¸èƒ½ä¿è¯ç»„å‘˜æäº¤ä»£ç ä¹‹å‰éƒ½å°† eslint ä¸­çš„é—®é¢˜è§£å†³æ‰äº†ï¼š

- ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸Œæœ›ä¿è¯ä»£ç ä»“åº“ä¸­çš„ä»£ç éƒ½æ˜¯ç¬¦åˆ eslint è§„èŒƒçš„ï¼›

- é‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨ç»„å‘˜æ‰§è¡Œ `git commit ` å‘½ä»¤çš„æ—¶å€™å¯¹å…¶è¿›è¡Œæ ¡éªŒï¼Œå¦‚æœä¸ç¬¦åˆ eslint è§„èŒƒï¼Œé‚£ä¹ˆè‡ªåŠ¨é€šè¿‡è§„èŒƒè¿›è¡Œä¿®å¤ï¼›

é‚£ä¹ˆå¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹å‘¢ï¼Ÿå¯ä»¥é€šè¿‡ Husky å·¥å…·ï¼š

- husky æ˜¯ä¸€ä¸ª git hook å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è§¦å‘ git æäº¤çš„å„ä¸ªé˜¶æ®µï¼špre-commitã€commit-msgã€pre-push

å¦‚ä½•ä½¿ç”¨ husky å‘¢ï¼Ÿ

è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªåŠ¨é…ç½®å‘½ä»¤ï¼š

```shell
npx husky-init && npm install
npx husky-init '&&' npm install # powershell 
```

è¿™é‡Œä¼šåšä¸‰ä»¶äº‹ï¼š

1.å®‰è£… husky ç›¸å…³çš„ä¾èµ–ï¼š

![image-20210723112648927](https://tva1.sinaimg.cn/large/008i3skNgy1gsqq0o5jxmj30bb04qwen.jpg)

2.åœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»º `.husky` æ–‡ä»¶å¤¹ï¼š

```
npx huksy install
```

![image-20210723112719634](https://tva1.sinaimg.cn/large/008i3skNgy1gsqq16zo75j307703mt8m.jpg)

3.åœ¨ package.json ä¸­æ·»åŠ ä¸€ä¸ªè„šæœ¬ï¼š

![image-20210723112817691](https://tva1.sinaimg.cn/large/008i3skNgy1gsqq26phpxj30dj06fgm3.jpg)

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å»å®Œæˆä¸€ä¸ªæ“ä½œï¼šåœ¨è¿›è¡Œ commit æ—¶ï¼Œæ‰§è¡Œ lint è„šæœ¬ï¼š

![image-20210723112932943](https://tva1.sinaimg.cn/large/008i3skNgy1gsqq3hn229j30nf04z74q.jpg)

è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æ‰§è¡Œ git commit çš„æ—¶å€™ä¼šè‡ªåŠ¨å¯¹ä»£ç è¿›è¡Œ lint æ ¡éªŒã€‚

### 1.5. git commit è§„èŒƒ

#### 1.5.1. ä»£ç æäº¤é£æ ¼

é€šå¸¸æˆ‘ä»¬çš„ git commit ä¼šæŒ‰ç…§ç»Ÿä¸€çš„é£æ ¼æ¥æäº¤ï¼Œè¿™æ ·å¯ä»¥å¿«é€Ÿå®šä½æ¯æ¬¡æäº¤çš„å†…å®¹ï¼Œæ–¹ä¾¿ä¹‹åå¯¹ç‰ˆæœ¬è¿›è¡Œæ§åˆ¶ã€‚

![](https://tva1.sinaimg.cn/large/008i3skNgy1gsqw17gaqjj30to0cj3zp.jpg)

ä½†æ˜¯å¦‚æœæ¯æ¬¡æ‰‹åŠ¨æ¥ç¼–å†™è¿™äº›æ˜¯æ¯”è¾ƒéº»çƒ¦çš„äº‹æƒ…ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå·¥å…·ï¼šCommitizen

- Commitizen æ˜¯ä¸€ä¸ªå¸®åŠ©æˆ‘ä»¬ç¼–å†™è§„èŒƒ commit message çš„å·¥å…·ï¼›

  1.å®‰è£… Commitizen

```shell
npm install commitizen -D
```

2.å®‰è£… cz-conventional-changelogï¼Œå¹¶ä¸”åˆå§‹åŒ– cz-conventional-changelogï¼š

```shell
npx commitizen init cz-conventional-changelog --save-dev --save-exact
```

è¿™ä¸ªå‘½ä»¤ä¼šå¸®åŠ©æˆ‘ä»¬å®‰è£… cz-conventional-changelogï¼š

![image-20210723145249096](https://tva1.sinaimg.cn/large/008i3skNgy1gsqvz2odi4j30ek00zmx2.jpg)

å¹¶ä¸”åœ¨ package.json ä¸­è¿›è¡Œé…ç½®ï¼š

![](https://tva1.sinaimg.cn/large/008i3skNgy1gsqvzftay5j30iu04k74d.jpg)

è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æäº¤ä»£ç éœ€è¦ä½¿ç”¨ `npx cz`ï¼š

- ç¬¬ä¸€æ­¥æ˜¯é€‰æ‹© typeï¼Œæœ¬æ¬¡æ›´æ–°çš„ç±»å‹

| Type     | ä½œç”¨                                                                                   |
| -------- | -------------------------------------------------------------------------------------- |
| feat     | æ–°å¢ç‰¹æ€§ (feature)                                                                     |
| fix      | ä¿®å¤ Bug(bug fix)                                                                      |
| docs     | ä¿®æ”¹æ–‡æ¡£ (documentation)                                                               |
| style    | ä»£ç æ ¼å¼ä¿®æ”¹(white-space, formatting, missing semi colons, etc)                        |
| refactor | ä»£ç é‡æ„(refactor)                                                                     |
| perf     | æ”¹å–„æ€§èƒ½(A code change that improves performance)                                      |
| test     | æµ‹è¯•(when adding missing tests)                                                        |
| build    | å˜æ›´é¡¹ç›®æ„å»ºæˆ–å¤–éƒ¨ä¾èµ–ï¼ˆä¾‹å¦‚ scopes: webpackã€gulpã€npm ç­‰ï¼‰                           |
| ci       | æ›´æ”¹æŒç»­é›†æˆè½¯ä»¶çš„é…ç½®æ–‡ä»¶å’Œ package ä¸­çš„ scripts å‘½ä»¤ï¼Œä¾‹å¦‚ scopes: Travis, Circle ç­‰ |
| chore    | å˜æ›´æ„å»ºæµç¨‹æˆ–è¾…åŠ©å·¥å…·(æ¯”å¦‚æ›´æ”¹æµ‹è¯•ç¯å¢ƒ)                                               |
| revert   | ä»£ç å›é€€                                                                               |

- ç¬¬äºŒæ­¥é€‰æ‹©æœ¬æ¬¡ä¿®æ”¹çš„èŒƒå›´ï¼ˆä½œç”¨åŸŸï¼‰

![image-20210723150147510](https://tva1.sinaimg.cn/large/008i3skNgy1gsqw8ca15oj30r600wmx4.jpg)

- ç¬¬ä¸‰æ­¥é€‰æ‹©æäº¤çš„ä¿¡æ¯

![image-20210723150204780](https://tva1.sinaimg.cn/large/008i3skNgy1gsqw8mq3zlj60ni01hmx402.jpg)

- ç¬¬å››æ­¥æäº¤è¯¦ç»†çš„æè¿°ä¿¡æ¯

![image-20210723150223287](https://tva1.sinaimg.cn/large/008i3skNgy1gsqw8y05bjj30kt01fjrb.jpg)

- ç¬¬äº”æ­¥æ˜¯å¦æ˜¯ä¸€æ¬¡é‡å¤§çš„æ›´æ”¹

![image-20210723150322122](https://tva1.sinaimg.cn/large/008i3skNgy1gsqw9z5vbij30bm00q744.jpg)

- ç¬¬å…­æ­¥æ˜¯å¦å½±å“æŸä¸ª open issue

![image-20210723150407822](https://tva1.sinaimg.cn/large/008i3skNgy1gsqwar8xp1j30fq00ya9x.jpg)

æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ scripts ä¸­æ„å»ºä¸€ä¸ªå‘½ä»¤æ¥æ‰§è¡Œ czï¼š

![image-20210723150526211](https://tva1.sinaimg.cn/large/008i3skNgy1gsqwc4gtkxj30e207174t.jpg)

#### 1.5.2. ä»£ç æäº¤éªŒè¯

å¦‚æœæˆ‘ä»¬æŒ‰ç…§ cz æ¥è§„èŒƒäº†æäº¤é£æ ¼ï¼Œä½†æ˜¯ä¾ç„¶æœ‰åŒäº‹é€šè¿‡ `git commit` æŒ‰ç…§ä¸è§„èŒƒçš„æ ¼å¼æäº¤åº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ

- æˆ‘ä»¬å¯ä»¥é€šè¿‡ commitlint æ¥é™åˆ¶æäº¤ï¼›

  1.å®‰è£… @commitlint/config-conventional å’Œ @commitlint/cli

```shell
npm i @commitlint/config-conventional @commitlint/cli -D
```

2.åœ¨æ ¹ç›®å½•åˆ›å»º commitlint.config.js æ–‡ä»¶ï¼Œé…ç½® commitlint

```js
module.exports = {
  extends: ['@commitlint/config-conventional'],
}
```

3.ä½¿ç”¨ husky ç”Ÿæˆ commit-msg æ–‡ä»¶ï¼ŒéªŒè¯æäº¤ä¿¡æ¯ï¼š

```shell
npx husky add .husky/commit-msg "npx --no-install commitlint --edit $1"
```





## ç¬¬ä¸‰æ–¹åº“é›†æˆ

### 2.1. vue.config.jsé…ç½®

vue.config.jsæœ‰ä¸‰ç§é…ç½®æ–¹å¼ï¼š

* æ–¹å¼ä¸€ï¼šç›´æ¥é€šè¿‡CLIæä¾›ç»™æˆ‘ä»¬çš„é€‰é¡¹æ¥é…ç½®ï¼š
  * æ¯”å¦‚publicPathï¼šé…ç½®åº”ç”¨ç¨‹åºéƒ¨ç½²çš„å­ç›®å½•ï¼ˆé»˜è®¤æ˜¯ `/`ï¼Œç›¸å½“äºéƒ¨ç½²åœ¨ `https://www.my-app.com/`ï¼‰ï¼›
  * æ¯”å¦‚outputDirï¼šä¿®æ”¹è¾“å‡ºçš„æ–‡ä»¶å¤¹ï¼›
* æ–¹å¼äºŒï¼šé€šè¿‡configureWebpackä¿®æ”¹webpackçš„é…ç½®ï¼š
  * å¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç›´æ¥ä¼šè¢«åˆå¹¶ï¼›
  * å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼šæ¥æ”¶ä¸€ä¸ªconfigï¼Œå¯ä»¥é€šè¿‡configæ¥ä¿®æ”¹é…ç½®ï¼›
* æ–¹å¼ä¸‰ï¼šé€šè¿‡chainWebpackä¿®æ”¹webpackçš„é…ç½®ï¼š
  * æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼šæ¥æ”¶ä¸€ä¸ªåŸºäº  [webpack-chain](https://github.com/mozilla-neutrino/webpack-chain) çš„configå¯¹è±¡ï¼Œå¯ä»¥å¯¹é…ç½®è¿›è¡Œä¿®æ”¹ï¼›

```js
const path = require('path')

module.exports = {
  outputDir: './build',
  // configureWebpack: {
  //   resolve: {
  //     alias: {
  //       views: '@/views'
  //     }
  //   }
  // }
  // configureWebpack: (config) => {
  //   config.resolve.alias = {
  //     '@': path.resolve(__dirname, 'src'),
  //     views: '@/views'
  //   }
  // },
  chainWebpack: (config) => {
    config.resolve.alias.set('@', path.resolve(__dirname, 'src')).set('views', '@/views')
  }
}
```





### 2.2. vue-routeré›†æˆ

å®‰è£…vue-routerçš„æœ€æ–°ç‰ˆæœ¬ï¼š

```shell
npm install vue-router@next
```

åˆ›å»ºrouterå¯¹è±¡ï¼š

```ts
import { createRouter, createWebHashHistory } from 'vue-router'
import { RouteRecordRaw } from 'vue-router'

const routes: RouteRecordRaw[] = [
  {
    path: '/',
    redirect: '/main'
  },
  {
    path: '/main',
    component: () => import('../views/main/main.vue')
  },
  {
    path: '/login',
    component: () => import('../views/login/login.vue')
  }
]

const router = createRouter({
  routes,
  history: createWebHashHistory()
})

export default router
```

å®‰è£…routerï¼š

```ts
import router from './router'

createApp(App).use(router).mount('#app')
```

åœ¨App.vueä¸­é…ç½®è·³è½¬ï¼š

```html
<template>
  <div id="app">
    <router-link to="/login">ç™»å½•</router-link>
    <router-link to="/main">é¦–é¡µ</router-link>
    <router-view></router-view>
  </div>
</template>
```



### 2.3. vuexé›†æˆ

å®‰è£…vuexï¼š

```shell
npm install vuex@next
```

åˆ›å»ºstoreå¯¹è±¡ï¼š

```ts
import { createStore } from 'vuex'

const store = createStore({
  state() {
    return {
      name: 'coderwhy'
    }
  }
})

export default store
```

å®‰è£…storeï¼š

```ts
createApp(App).use(router).use(store).mount('#app')
```

åœ¨App.vueä¸­ä½¿ç”¨ï¼š

```html
<h2>{{ $store.state.name }}</h2>
```



### 2.4. element-plusé›†æˆ

Element Plusï¼Œä¸€å¥—ä¸ºå¼€å‘è€…ã€è®¾è®¡å¸ˆå’Œäº§å“ç»ç†å‡†å¤‡çš„åŸºäº Vue 3.0 çš„æ¡Œé¢ç«¯ç»„ä»¶åº“ï¼š

* ç›¸ä¿¡å¾ˆå¤šåŒå­¦åœ¨Vue2ä¸­éƒ½ä½¿ç”¨è¿‡element-uiï¼Œè€Œelement-plusæ­£æ˜¯element-uié’ˆå¯¹äºvue3å¼€å‘çš„ä¸€ä¸ªUIç»„ä»¶åº“ï¼›
* å®ƒçš„ä½¿ç”¨æ–¹å¼å’Œå¾ˆå¤šå…¶ä»–çš„ç»„ä»¶åº“æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥å­¦ä¼šelement-plusï¼Œå…¶ä»–ç±»ä¼¼äºant-design-vueã€NaiveUIã€VantUIéƒ½æ˜¯å·®ä¸å¤šçš„ï¼›

å®‰è£…element-plus

```shell
npm install element-plus
```



#### 2.4.1. å…¨å±€å¼•å…¥

ä¸€ç§å¼•å…¥element-plusçš„æ–¹å¼æ˜¯å…¨å±€å¼•å…¥ï¼Œä»£è¡¨çš„å«ä¹‰æ˜¯æ‰€æœ‰çš„ç»„ä»¶å’Œæ’ä»¶éƒ½ä¼šè¢«è‡ªåŠ¨æ³¨å†Œï¼š

```js
import ElementPlus from 'element-plus'
import 'element-plus/lib/theme-chalk/index.css'

import router from './router'
import store from './store'

createApp(App).use(router).use(store).use(ElementPlus).mount('#app')
```



#### 2.4.2. å±€éƒ¨å¼•å…¥ï¼ˆæ—§ï¼‰

ä¹Ÿå°±æ˜¯åœ¨å¼€å‘ä¸­ç”¨åˆ°æŸä¸ªç»„ä»¶å¯¹æŸä¸ªç»„ä»¶è¿›è¡Œå¼•å…¥ï¼š

```vue
<template>
  <div id="app">
    <router-link to="/login">ç™»å½•</router-link>
    <router-link to="/main">é¦–é¡µ</router-link>
    <router-view></router-view>

    <h2>{{ $store.state.name }}</h2>

    <el-button>é»˜è®¤æŒ‰é’®</el-button>
    <el-button type="primary">ä¸»è¦æŒ‰é’®</el-button>
    <el-button type="success">æˆåŠŸæŒ‰é’®</el-button>
    <el-button type="info">ä¿¡æ¯æŒ‰é’®</el-button>
    <el-button type="warning">è­¦å‘ŠæŒ‰é’®</el-button>
    <el-button type="danger">å±é™©æŒ‰é’®</el-button>
  </div>
</template>

<script lang="ts">
import { defineComponent } from 'vue'

import { ElButton } from 'element-plus'

export default defineComponent({
  name: 'App',
  components: {
    ElButton
  }
})
</script>

<style lang="less">
</style>
```

ä½†æ˜¯æˆ‘ä»¬ä¼šå‘ç°æ˜¯æ²¡æœ‰å¯¹åº”çš„æ ·å¼çš„ï¼Œå¼•å…¥æ ·å¼æœ‰ä¸¤ç§æ–¹å¼ï¼š

* å…¨å±€å¼•ç”¨æ ·å¼ï¼ˆåƒä¹‹å‰åšçš„é‚£æ ·ï¼‰ï¼›
* å±€éƒ¨å¼•ç”¨æ ·å¼ï¼ˆé€šè¿‡babelçš„æ’ä»¶ï¼‰ï¼›

1.å®‰è£…babelçš„æ’ä»¶ï¼š

```shell
npm install babel-plugin-import -D
```

2.é…ç½®babel.config.js

```js
module.exports = {
  plugins: [
    [
      'import',
      {
        libraryName: 'element-plus',
        customStyleName: (name) => {
          return `element-plus/lib/theme-chalk/${name}.css`
        }
      }
    ]
  ],
  presets: ['@vue/cli-plugin-babel/preset']
}
```



ä½†æ˜¯è¿™é‡Œä¾ç„¶æœ‰ä¸ªå¼Šç«¯ï¼š

* è¿™äº›ç»„ä»¶æˆ‘ä»¬åœ¨å¤šä¸ªé¡µé¢æˆ–è€…ç»„ä»¶ä¸­ä½¿ç”¨çš„æ—¶å€™ï¼Œéƒ½éœ€è¦å¯¼å…¥å¹¶ä¸”åœ¨componentsä¸­è¿›è¡Œæ³¨å†Œï¼›
* æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬åœ¨å…¨å±€æ³¨å†Œä¸€æ¬¡ï¼›

```ts
import {
  ElButton,
  ElTable,
  ElAlert,
  ElAside,
  ElAutocomplete,
  ElAvatar,
  ElBacktop,
  ElBadge,
} from 'element-plus'

const app = createApp(App)

const components = [
  ElButton,
  ElTable,
  ElAlert,
  ElAside,
  ElAutocomplete,
  ElAvatar,
  ElBacktop,
  ElBadge
]

for (const cpn of components) {
  app.component(cpn.name, cpn)
}
```





#### 2.4.3 å±€éƒ¨æŒ‰éœ€å¯¼å…¥ ğŸ”¥

å‚è€ƒ[æ–‡æ¡£](https://element-plus.gitee.io/zh-CN/guide/quickstart.html#%E6%8C%89%E9%9C%80%E5%AF%BC%E5%85%A5)

é¦–å…ˆä½ éœ€è¦å®‰è£…`unplugin-vue-components` å’Œ `unplugin-auto-import`è¿™ä¸¤æ¬¾æ’ä»¶

```
npm install -D unplugin-vue-components unplugin-auto-import
```

ç„¶åæŠŠä¸‹åˆ—ä»£ç æ’å…¥åˆ°ä½ çš„ `Vite` æˆ– `Webpack` çš„é…ç½®æ–‡ä»¶ä¸­

```ts
// vue.config.js
/* eslint-disable @typescript-eslint/no-var-requires */
const AutoImport = require('unplugin-auto-import/webpack')
const Components = require('unplugin-vue-components/webpack')
const { ElementPlusResolver } = require('unplugin-vue-components/resolvers')

module.exports = {
  configureWebpack: {
    plugins: [
      // è‡ªåŠ¨å¯¼å…¥
      AutoImport({
        resolvers: [ElementPlusResolver()],
      }),
      // è‡ªåŠ¨å¯¼å…¥
      Components({
        resolvers: [ElementPlusResolver()],
      }),
    ],
  },
}
```

```ts
// vite.config.ts
import AutoImport from 'unplugin-auto-import/vite'
import Components from 'unplugin-vue-components/vite'
import { ElementPlusResolver } from 'unplugin-vue-components/resolvers'

export default {
  plugins: [
    // ...
    AutoImport({
      resolvers: [ElementPlusResolver()],
    }),
    Components({
      resolvers: [ElementPlusResolver()],
    }),
  ],
}
```

```ts
// webpack.config.js
const AutoImport = require('unplugin-auto-import/webpack')
const Components = require('unplugin-vue-components/webpack')
const { ElementPlusResolver } = require('unplugin-vue-components/resolvers')

module.exports = {
  // ...
  plugins: [
    AutoImport({
      resolvers: [ElementPlusResolver()],
    }),
    Components({
      resolvers: [ElementPlusResolver()],
    }),
  ],
}
```



### 2.5. axiosé›†æˆ

å®‰è£…axiosï¼š

```shell
npm install axios
```

å°è£…axiosï¼š

```ts
import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios'
import { Result } from './types'
import { useUserStore } from '/@/store/modules/user'

class HYRequest {
  private instance: AxiosInstance

  private readonly options: AxiosRequestConfig

  constructor(options: AxiosRequestConfig) {
    this.options = options
    this.instance = axios.create(options)

    this.instance.interceptors.request.use(
      (config) => {
        const token = useUserStore().getToken
        if (token) {
          config.headers.Authorization = `Bearer ${token}`
        }
        return config
      },
      (err) => {
        return err
      }
    )

    this.instance.interceptors.response.use(
      (res) => {
        // æ‹¦æˆªå“åº”çš„æ•°æ®
        if (res.data.code === 0) {
          return res.data.data
        }
        return res.data
      },
      (err) => {
        return err
      }
    )
  }

  request<T = any>(config: AxiosRequestConfig): Promise<T> {
    return new Promise((resolve, reject) => {
      this.instance
        .request<any, AxiosResponse<Result<T>>>(config)
        .then((res) => {
          resolve((res as unknown) as Promise<T>)
        })
        .catch((err) => {
          reject(err)
        })
    })
  }

  get<T = any>(config: AxiosRequestConfig): Promise<T> {
    return this.request({ ...config, method: 'GET' })
  }

  post<T = any>(config: AxiosRequestConfig): Promise<T> {
    return this.request({ ...config, method: 'POST' })
  }

  patch<T = any>(config: AxiosRequestConfig): Promise<T> {
    return this.request({ ...config, method: 'PATCH' })
  }

  delete<T = any>(config: AxiosRequestConfig): Promise<T> {
    return this.request({ ...config, method: 'DELETE' })
  }
}

export default HYRequest
```



### 2.6 ç¯å¢ƒå˜é‡ ğŸ”¥

åœ¨å¼€å‘ä¸­ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦æ ¹æ®ä¸åŒçš„ç¯å¢ƒè®¾ç½®ä¸åŒçš„ç¯å¢ƒå˜é‡ï¼Œå¸¸è§çš„æœ‰ä¸‰ç§ç¯å¢ƒ: 

* å¼€å‘ç¯å¢ƒ:development;
* ç”Ÿäº§ç¯å¢ƒ:production;
* æµ‹è¯•ç¯å¢ƒ:test;

å¦‚ä½•åŒºåˆ†ç¯å¢ƒå˜é‡å‘¢?å¸¸è§æœ‰ä¸‰ç§æ–¹å¼:

* æ–¹å¼ä¸€:æ‰‹åŠ¨ä¿®æ”¹ä¸åŒçš„å˜é‡;
* æ–¹å¼äºŒ:æ ¹æ®`process.env.NODE_ENV`çš„å€¼è¿›è¡ŒåŒºåˆ†; ğŸ”¥
* æ–¹å¼ä¸‰:ç¼–å†™ä¸åŒçš„**ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶**ï¼ˆvue-cliæ”¯æŒçš„ï¼‰

```ts
// config.ts
// 1.æ–¹å¼ä¸€: æ‰‹åŠ¨çš„åˆ‡æ¢ä¸åŒçš„ç¯å¢ƒ(ä¸æ¨è)
// const BASE_URL = 'http://coderwhy.org/dev'
// const BASE_NAME = 'coderwhy'

// const BASE_URL = 'http://coderwhy.org/prod'
// const BASE_NAME = 'kobe'

// const BASE_URL = 'http://coderwhy.org/test'
// const BASE_NAME = 'james'

// 2.æ ¹æ®process.env.NODE_ENVåŒºåˆ†
// å¼€å‘ç¯å¢ƒ: development
// ç”Ÿæˆç¯å¢ƒ: production
// æµ‹è¯•ç¯å¢ƒ: test

let BASE_URL = ''
const TIME_OUT = 10000

if (process.env.NODE_ENV === 'development') {
  BASE_URL = 'http://123.207.32.32:8000/'
} else if (process.env.NODE_ENV === 'production') {
  BASE_URL = 'http://coderwhy.org/prod'
} else {
  BASE_URL = 'http://coderwhy.org/test'
}

export { BASE_URL, TIME_OUT }
```

Vue-cli [æ¨¡å¼å’Œç¯å¢ƒå˜é‡](https://cli.vuejs.org/zh/guide/mode-and-env.html#%E6%A8%A1%E5%BC%8F%E5%92%8C%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F)

**æ¨¡å¼**æ˜¯ Vue CLI é¡¹ç›®ä¸­ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ª Vue CLI é¡¹ç›®æœ‰ä¸‰ä¸ªæ¨¡å¼ï¼š

- `development` æ¨¡å¼ç”¨äº `vue-cli-service serve`
- `test` æ¨¡å¼ç”¨äº `vue-cli-service test:unit`
- `production` æ¨¡å¼ç”¨äº `vue-cli-service build` å’Œ `vue-cli-service test:e2e`

ä½ å¯ä»¥é€šè¿‡ä¼ é€’ `--mode` é€‰é¡¹å‚æ•°ä¸ºå‘½ä»¤è¡Œè¦†å†™é»˜è®¤çš„æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³è¦åœ¨æ„å»ºå‘½ä»¤ä¸­ä½¿ç”¨å¼€å‘ç¯å¢ƒå˜é‡ï¼š

.env.development

```
VUE_APP_BASE_URL=https://coderwhy.org/dev
VUE_APP_BASE_NAME=coderwhy
```

.env.production

```
VUE_APP_BASE_URL=https://coderwhy.org/prod
VUE_APP_BASE_NAME=kobe
```

ä½¿ç”¨

```js
console.log(process.env.VUE_APP_SECRET)
```





### 2.7. VSCodeé…ç½®

```json
{
  "workbench.iconTheme": "vscode-great-icons",
  "editor.fontSize": 17,
  "eslint.migration.2_x": "off",
  "[javascript]": {
    "editor.defaultFormatter": "dbaeumer.vscode-eslint"
  },
  "files.autoSave": "afterDelay",
  "editor.tabSize": 2,
  "terminal.integrated.fontSize": 16,
  "editor.renderWhitespace": "all",
  "editor.quickSuggestions": {
    "strings": true
  },
  "debug.console.fontSize": 15,
  "window.zoomLevel": 1,
  "emmet.includeLanguages": {
    "javascript": "javascriptreact"
  },
  "explorer.confirmDragAndDrop": false,
  "workbench.tree.indent": 16,
  "javascript.updateImportsOnFileMove.enabled": "always",
  "editor.wordWrap": "on",
  "path-intellisense.mappings": {
    "@": "${workspaceRoot}/src"
  },
  "hediet.vscode-drawio.local-storage": "eyIuZHJhd2lvLWNvbmZpZyI6IntcImxhbmd1YWdlXCI6XCJcIixcImN1c3RvbUZvbnRzXCI6W10sXCJsaWJyYXJpZXNcIjpcImdlbmVyYWw7YmFzaWM7YXJyb3dzMjtmbG93Y2hhcnQ7ZXI7c2l0ZW1hcDt1bWw7YnBtbjt3ZWJpY29uc1wiLFwiY3VzdG9tTGlicmFyaWVzXCI6W1wiTC5zY3JhdGNocGFkXCJdLFwicGx1Z2luc1wiOltdLFwicmVjZW50Q29sb3JzXCI6W1wiRkYwMDAwXCIsXCIwMENDNjZcIixcIm5vbmVcIixcIkNDRTVGRlwiLFwiNTI1MjUyXCIsXCJGRjMzMzNcIixcIjMzMzMzM1wiLFwiMzMwMDAwXCIsXCIwMENDQ0NcIixcIkZGNjZCM1wiLFwiRkZGRkZGMDBcIl0sXCJmb3JtYXRXaWR0aFwiOjI0MCxcImNyZWF0ZVRhcmdldFwiOmZhbHNlLFwicGFnZUZvcm1hdFwiOntcInhcIjowLFwieVwiOjAsXCJ3aWR0aFwiOjExNjksXCJoZWlnaHRcIjoxNjU0fSxcInNlYXJjaFwiOnRydWUsXCJzaG93U3RhcnRTY3JlZW5cIjp0cnVlLFwiZ3JpZENvbG9yXCI6XCIjZDBkMGQwXCIsXCJkYXJrR3JpZENvbG9yXCI6XCIjNmU2ZTZlXCIsXCJhdXRvc2F2ZVwiOnRydWUsXCJyZXNpemVJbWFnZXNcIjpudWxsLFwib3BlbkNvdW50ZXJcIjowLFwidmVyc2lvblwiOjE4LFwidW5pdFwiOjEsXCJpc1J1bGVyT25cIjpmYWxzZSxcInVpXCI6XCJcIn0ifQ==",
  "hediet.vscode-drawio.theme": "Kennedy",
  "editor.fontFamily": "Source Code Pro, 'Courier New', monospace",
  "editor.smoothScrolling": true,
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "workbench.colorTheme": "Atom One Dark",
  "vetur.completion.autoImport": false,
  "security.workspace.trust.untrustedFiles": "open",
  "eslint.lintTask.enable": true,
  "eslint.alwaysShowStatus": true,
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  }
}
```



## æ¥å£æ–‡æ¡£

https://documenter.getpostman.com/view/12387168/TzsfmQvw

baseURLçš„å€¼ï¼š

```
http://152.136.185.210:5000
```

è®¾ç½®å…¨å±€tokençš„æ–¹æ³•ï¼š

```js
const res = pm.response.json();
pm.globals.set("token", res.data.token);
```



æ¥å£æ–‡æ¡£v2ç‰ˆæœ¬ï¼šï¼ˆæœ‰éƒ¨åˆ†æ›´æ–°ï¼‰

https://documenter.getpostman.com/view/12387168/TzzDKb12

