(window.webpackJsonp=window.webpackJsonp||[]).push([[180],{752:function(t,e,v){"use strict";v.r(e);var _=v(21),s=Object(_.a)({},(function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"nexttick与eventloop"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#nexttick与eventloop"}},[t._v("#")]),t._v(" nextTick与eventloop")]),t._v(" "),v("h2",{attrs:{id:"nexttick"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#nexttick"}},[t._v("#")]),t._v(" nextTick")]),t._v(" "),v("p",[t._v("官方解释：将回调推迟到"),v("strong",[t._v("下一个 DOM 更新周期之后执行")]),t._v("。在更改了一些数据以等待 DOM 更新后立即使用它")]),t._v(" "),v("p",[t._v("比如我们有下面的需求:")]),t._v(" "),v("ul",[v("li",[t._v("点击一个按钮，我们会修改在h2中显示的message;")]),t._v(" "),v("li",[t._v("message被修改后，获取h2的高度;")])]),t._v(" "),v("p",[t._v("实现上面的案例我们有三种方式:")]),t._v(" "),v("ul",[v("li",[t._v("方式一:在点击按钮后立即获取到h2的高度(错误的做法)")]),t._v(" "),v("li",[t._v("方式二:在updated生命周期函数中获取h2的高度(但是其他数据更新，也会执行该操作)")]),t._v(" "),v("li",[t._v("方式三:使用nexttick函数;")])]),t._v(" "),v("h2",{attrs:{id:"eventloop、任务队列"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#eventloop、任务队列"}},[t._v("#")]),t._v(" eventloop、任务队列")]),t._v(" "),v("p",[t._v("DOM事件、setTimeout等会被放入任务队列，任务队列又分为2种：")]),t._v(" "),v("ul",[v("li",[t._v("微任务队列（优先级高）：Promise.resolve().then(回调函数)")]),t._v(" "),v("li",[t._v("宏任务队列（优先级低）：DOM事件、setTimeout")])]),t._v(" "),v("p",[t._v("Vue中的：")]),t._v(" "),v("ul",[v("li",[t._v("watch(,回调函数)：preQueue")]),t._v(" "),v("li",[t._v("组件更新 update：jobQueue")]),t._v(" "),v("li",[t._v("生命周期回调：postQueue")])]),t._v(" "),v("p",[t._v("nextTick 会将其中回调放入微任务队列最后！")])])}),[],!1,null,null,null);e.default=s.exports}}]);